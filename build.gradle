buildscript {
	repositories {
		mavenCentral()
	}

	dependencies {
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
	}
}

repositories {
	mavenCentral()
}

allprojects {
	apply plugin: 'kotlin'
	apply plugin: 'maven'

	sourceCompatibility = 1.8
	targetCompatibility = 1.8

	tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
		kotlinOptions {
			jvmTarget = "1.8"
		}
	}

	dependencies {
		testImplementation 'org.hamcrest:hamcrest-all:1.3'
		testImplementation 'junit:junit:4.10'
		testImplementation 'org.openjdk.jmh:jmh-core:1.20'
		testImplementation "org.jetbrains.kotlin:kotlin-script-runtime:$kotlinVersion"
		annotationProcessor 'org.openjdk.jmh:jmh-generator-annprocess:1.20'
	}

	configurations.all { config ->
		config.resolutionStrategy {
			preferProjectModules()
		}
	}
}
